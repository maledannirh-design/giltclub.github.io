<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GILT Club</title>

<style>
body{
margin:0;
font-family: Arial, Helvetica, sans-serif;
background:#F2E8D5;
color:#2E5D3A;
}

/* HEADER */
.header{
position:fixed;
top:0;
left:0;
right:0;
height:110px;
background:white;
display:flex;
align-items:center;
justify-content:space-between;
padding:0 15px;
box-shadow:0 2px 10px rgba(0,0,0,0.08);
z-index:999;
}

.logo{ height:96px; }

.menu a{
margin-left:12px;
text-decoration:none;
color:#2E5D3A;
font-weight:600;
font-size:14px;
}

section{
padding-top:120px;
display:flex;
align-items:center;
justify-content:center;
text-align:center;
flex-direction:column;
}

/* HERO */
.hero{ height:33vh; }

.store{
height:66vh;
background:#fff;
}

.slider{
display:flex;
overflow-x:auto;
gap:15px;
padding:20px;
}

.card{
min-width:220px;
background:#F2E8D5;
border-radius:16px;
padding:12px;
text-align:center;
box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

.card img{
width:160px;
height:160px;
object-fit:cover;
border-radius:12px;
margin-bottom:8px;
}

/* MEMBER */
.member{
background:#E5A9A9;
color:white;
padding:40px 20px;
}

.member img{
width:160px;
height:160px;
border-radius:20px;
object-fit:cover;
margin-bottom:15px;
}

.button{
background:#2E5D3A;
color:white;
padding:12px 20px;
border-radius:12px;
margin-top:10px;
display:inline-block;
text-decoration:none;
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
<img src="images/club_product/logo_giltclub.png" class="logo">
<div class="menu">
<a href="#">Daftar Club</a>
<a href="#">Login Member</a>
<a href="#">Login VVIP Private</a>
</div>
</div>

<!-- HERO -->
<section class="hero">
<h1>WELCOME TO GILT CLUB</h1>
<p>Tennis Sport & Social Community</p>
</section>

<!-- STORE -->
<section class="store">
<h2>GILT Store</h2>
<div class="slider" id="productSlider"></div>
</section>

<!-- MEMBER -->
<section class="member">
<h2>Meet Our Member</h2>
<img id="memberFoto">
<h3 id="memberNama"></h3>
<p id="memberDesk"></p>
<a class="button">Terhubung dengan Member</a>
</section>

<script>

const API = "https://script.google.com/macros/s/AKfycbzDlUfUmpwhEsMBgswred-PZx9LK7N1MCZ0rD62SstaVtH4GYHnspgDTsVqlQrgcCKZcQ/dev";

/* ================= MEMBER ================= */

let members=[];
let index=0;

async function loadMembers(){
 const res=await fetch(API+"?action=members");
 members=await res.json();

 tampilMember();
 setInterval(tampilMember,5000);
}

function tampilMember(){
 const m=members[index];

 document.getElementById("memberFoto").src="images/members/"+m.username+".png";
 document.getElementById("memberNama").innerText=m.name;
 document.getElementById("memberDesk").innerText=m.bio;

 index++;
 if(index>=members.length) index=0;
}

/* ================= PRODUCTS ================= */

async function loadProducts(){

 const res=await fetch(API+"?action=products");
 const products=await res.json();

 const slider=document.getElementById("productSlider");

 products.forEach(p=>{

  const foto="images/club_product/"+p.id+".png";

  let status="";
  if(p.qty<=0) status="<div style='color:red'>Habis</div>";
  else if(p.qty<=3) status="<div style='color:orange'>Sisa "+p.qty+"</div>";
  else status="<div style='color:green'>Tersedia</div>";

  slider.innerHTML+=`
  <div class="card" onclick="window.open('${foto}','_blank')">
    <img src="${foto}">
    <div><b>${p.name}</b></div>
    <div style="font-size:12px">${p.desc}</div>
    <div style="text-decoration:line-through">Rp ${p.price}</div>
    <div style="color:red;font-weight:bold">Rp ${p.dprice}</div>
    <div style="background:#2E5D3A;color:white;border-radius:8px;padding:3px 8px;display:inline-block">-${p.disc}%</div>
    ${status}
  </div>`;
 });

 setInterval(()=>{slider.scrollLeft+=230;},800);
}

loadMembers();
loadProducts();

</script>

</body>
</html>
